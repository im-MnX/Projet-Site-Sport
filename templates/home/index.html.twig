{% extends 'base.html.twig' %}

{% block title %}Accueil
{% endblock %}

{% block body %}
	<!-- Hero Section -->
	<div class="hero-header">
		<div class="hero-content">
			<h1>Angers Nat' Synchro</h1>
			<div class="hero-actions">
				<a href="{{ path('app_inscription') }}" class="btn-hero">Nous rejoindre</a>
			</div>
		</div>
	</div>

	<div
		class="home-container">

		<!-- Section: A la une (Event + Presentation) -->
		<div class="featured-section">

			<div class="welcome-text">
				<h2>Bienvenue au club</h2>
				<p>
					Depuis 60 ans,
					<strong>Angers Nat' Synchro</strong>
					forme des athlètes passionnés de natation artistique. 
					Que vous soyez débutant ou compétiteur chevronné, rejoignez une famille dynamique où dépassement de soi rime avec esprit d'équipe.
				</p>
				<div class="stats-row">
					<div class="stat-item">
						<span class="stat-number">60+</span>
						<span class="stat-label">Années</span>
					</div>
				</div>
			</div>

			<div class="featured-sidebar">
				<div class="next-event-card">
					<div class="card-badge">Prochain événement</div>
					{% if upcomingEvents is not empty %}
						{% set nextEvent = upcomingEvents[0] %}
						<h3>{{ nextEvent.nom }}</h3>
						{% if nextEvent.dateEvenement %}
							<div class="event-time">
								<i class="fas fa-calendar-day"></i>
								<span>{{ nextEvent.dateEvenement|date('d F Y') }}</span>
							</div>
							<div class="event-time">
								<i class="fas fa-clock"></i>
								<span>{{ nextEvent.horaire|date('H:i') }}</span>
							</div>
						{% endif %}
						<p class="event-desc">{{ nextEvent.description ? nextEvent.description|striptags|slice(0, 150) ~ '...' : 'Venez nombreux !' }}</p>
						<a href="{{ path('app_evenement_show', { id: nextEvent.id }) }}" class="btn-event-details">
							Voir les détails
							<i class="fas fa-arrow-right"></i>
						</a>
					{% else %}
						<h3>Saison à venir</h3>
						<p class="event-desc">Le calendrier des événements sera bientôt disponible. Restez connectés !</p>
					{% endif %}
				</div>

				<div class="social-widget">
					<h3>Suivez-nous</h3>
					<div class="fb-page-wrapper">
						<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fangers.nat.synchro&tabs=timeline&width=340&height=500&small_header=true&adapt_container_width=true&hide_cover=false&show_facepile=false&appId" width="100%" height="400" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
					</div>
					<a href="https://www.instagram.com/angers_nat_synchro/" target="_blank" class="instagram-btn">
						<i class="fab fa-instagram"></i>
						Sur Instagram
					</a>
				</div>
			</div>

		</div>

		<!-- Section: Dernières Actualités -->
		<div class="modern-news-section">
			<div class="section-header">
				<h2>Actualités</h2>
				<div class="header-line"></div>
			</div>

			<div class="modern-grid">
				{% for news in latestNews %}
					<article class="modern-card">
						<div
							class="card-image-wrapper">
							<!-- Placeholder ou image réelle si dispo -->
							<div class="card-placeholder-img">
								<img src="{{ asset('uploads/actualites/' ~ news.images) }}" alt="{{ news.titre }}" class="actualite-image">
							</div>
						</div>
						<div class="card-body">
							<span class="card-date">{{ news.date ? news.date|date('d/m/Y') : '' }}</span>
							<h3 class="card-title">{{ news.titre ?: 'Actualité' }}</h3>
							<p class="card-excerpt">{{ news.description|striptags|slice(0, 100) ~ '...' }}</p>
							<a href="{{ path('app_actualites_show', { id: news.idActualite }) }}" class="read-more">Lire la suite
								<i class="fas fa-arrow-right"></i>
							</a>
						</div>
					</article>
				{% else %}
					<p>Aucune actualité disponible</p>
				{% endfor %}
			</div>
		</div>

	</div>

	<div class="partners-section">
		<div class="home-container" style="padding-bottom: 0;">
			<div class="section-header">
				<h2>Nos partenaires</h2>
				<div class="header-line"></div>
			</div>

			{% if partenaires is defined and partenaires|length > 0 %}
				{% if partenaires|length < 6 %}
					{# Static Display for few partners #}
					<div class="partners-static">
						{% for partenaire in partenaires %}
							<div class="partner-slide">
								<a href="{{ partenaire.lienPartenaire }}" target="_blank" title="{{ partenaire.nomPartenaire }}">
									<img src="{{ asset('logos/' ~ partenaire.logoPartenaire) }}" alt="{{ partenaire.nomPartenaire }}">
								</a>
							</div>
						{% endfor %}
					</div>
				{% else %}
					<div class="partners-carousel">
						<div class="partners-track">
							{% for partenaire in partenaires %}
								<div class="partner-slide">
									<a href="{{ partenaire.lienPartenaire }}" target="_blank" title="{{ partenaire.nomPartenaire }}">
										<img src="{{ asset('logos/' ~ partenaire.logoPartenaire) }}" alt="{{ partenaire.nomPartenaire }}">
									</a>
								</div>
							{% endfor %}

							{% for partenaire in partenaires %}
								<div class="partner-slide">
									<a href="{{ partenaire.lienPartenaire }}" target="_blank" title="{{ partenaire.nomPartenaire }}">
										<img src="{{ asset('logos/' ~ partenaire.logoPartenaire) }}" alt="{{ partenaire.nomPartenaire }}">
									</a>
								</div>
							{% endfor %}
						</div>
					</div>
				{% endif %}
			{% else %}
				<p style="text-align: center; color: #999; font-style: italic;">Nos partenaires apparaîtront ici prochainement.</p>
			{% endif %}
		</div>
	</div>
{% endblock %}
